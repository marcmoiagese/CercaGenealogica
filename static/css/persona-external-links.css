/* Arbres externs */
.ext-toolbar{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}

.ext-search{
  flex:1;
  min-width: 220px;
  border:1px solid #e9eef2;
  border-radius:12px;
  padding:10px 12px;
  outline:none;
  background:#fff;
}

.ext-select{
  border:1px solid #e9eef2;
  border-radius:12px;
  padding:10px 12px;
  background:#fff;
}

.ext-legend{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin: 2px 0 12px;
}

.ext-badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:999px;
  background:var(--light-color);
  border:1px solid #e9eef2;
  color:var(--color-text-clar);
  font-size:.85rem;
  white-space:nowrap;
}

.ext-badge--warn{
  background: rgba(255,193,7,.12);
  border-color: rgba(255,193,7,.35);
  color: #7a5200;
}

.ext-badge--pay{
  background: rgba(255,215,64,.14);
  border-color: rgba(255,215,64,.35);
  color: #6a4a00;
}

.ext-badge--muted{
  background:#fff;
  border-color:#eef1f4;
  color: var(--color-text-clar);
}

.ext-summary{ margin: 0 0 12px; }

.ext-sites{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.ext-site{
  border:1px solid #eef1f4;
  border-radius:16px;
  background:#fff;
  overflow:hidden;
  box-shadow: 0 14px 26px rgba(0,0,0,.06);
  transition: transform .15s ease, box-shadow .15s ease;
  width:100%;
}

.ext-site:hover{
  transform: translateY(-1px);
  box-shadow: 0 18px 34px rgba(0,0,0,.08);
}

.ext-site__summary{
  list-style:none;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:12px;
  padding:14px;
  background: #fff;
}

.ext-site__summary:hover{ background: var(--light-color); }

.ext-site__summary::-webkit-details-marker{ display:none; }

.ext-site__logo{
  width:40px;
  height:40px;
  border-radius:14px;
  border:1px solid #e9eef2;
  background:#fff;
  box-shadow: 0 10px 18px rgba(0,0,0,.05);
}

.ext-site__meta{
  flex:1;
  min-width:0;
}

.ext-site__name{
  font-weight:900;
  color:var(--primary-color);
}

.ext-site__counts{
  margin-top:2px;
  font-size:.9rem;
  color:var(--color-text-clar);
}

.ext-site__badges{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:flex-end;
}

.ext-site__chev{
  color:var(--color-text-clar);
  transition: transform .15s ease;
}

.ext-site[open] .ext-site__chev{ transform: rotate(180deg); }

.ext-links{
  list-style:none;
  margin:0;
  padding: 12px 12px 14px;
  display:flex;
  flex-direction:column;
  gap:8px;
  border-top: 1px solid #eef1f4;
}

.ext-link{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border:1px solid #eef1f4;
  border-radius:14px;
  background: #fff;
  transition: background .15s ease, border-color .15s ease;
}

.ext-link:hover{
  background: var(--light-color);
  border-color: #e9eef2;
}

.ext-link__a{
  flex:1;
  min-width:0;
  display:flex;
  flex-direction:column;
  gap:2px;
  text-decoration:none;
  overflow:hidden;
}

.ext-link__title{
  font-weight:900;
  color: var(--primary-color);
  overflow:hidden;
  white-space:nowrap;
  text-overflow:ellipsis;
}

.ext-link__meta{
  font-size:.85rem;
  color: var(--color-text-clar);
  overflow:hidden;
  white-space:nowrap;
  text-overflow:ellipsis;
}

.ext-link__a:hover .ext-link__title{ text-decoration:underline; }

.ext-link__right{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:8px;
  flex-wrap:wrap;
}

.ext-pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid #e9eef2;
  background:#fff;
  font-size:.82rem;
  color:var(--color-text-clar);
  white-space:nowrap;
}

.ext-pill--count{
  font-weight:900;
  color:var(--primary-color);
}

.ext-pill--open{
  text-decoration:none;
  border-color:#dfe7ee;
  background:var(--light-color);
  color:var(--primary-color);
  font-weight:700;
}

.ext-pill--open:hover{
  background:#fff;
}

.ext-form{
  margin: 12px 0 16px;
}

.ext-form .form-accio{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
  margin-top:8px;
}

.ext-feedback{ margin: 0 0 12px; }

.ext-feedback--error{
  border-color: rgba(244,67,54,.35);
  background: rgba(244,67,54,.08);
  color:#7a1a13;
}

.ext-modal-error{
  margin-top: 10px;
}
